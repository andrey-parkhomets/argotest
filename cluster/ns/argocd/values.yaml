#https://github.com/argoproj/argo-helm/blob/main/charts/argo-cd/values.yaml
global:
  logging:
    level: debug
    format: json
  # -- Default domain used by all components
  ## Used for ingresses, certificates, SSO, notifications, etc.
  domain: argocd.local
dex:
  enabled: true
  logLevel: "debug"
configs:
  cm:
    url: "https://argocd.local/argocd"
    create: true
    kustomize.buildOptions: --enable-helm
    resource.exclusions: |
      - apiGroups:
        - "velero.io"
        kinds:
        - "Backup"
        - "Restore"
        clusters:
        - "*"
    dex.config: |
      logger:
        level: debug
        format: json
      connectors:
        # GitHub example
        - type: github
          id: github
          name: GitHub
          config:
            clientID: $argocd-oidc-secret:oidc.auth0.clientId
            clientSecret: $argocd-oidc-secret:oidc.auth0.clientSecret
            orgs:
            - name: klf2000org
        - type: saml
          id: saml
          name: saml
          config:
            entityIssuer: https://argocd.local/argocd/api/dex/callback
            ssoURL: https://login.microsoftonline.com/580ac1bb-0b92-4429-bd35-bacc4d2b3cbd/saml2
            caData: |
              LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDOERDQ0FkaWdBd0lCQWdJUVBoTDVQd2tzV29OS291NHk0Z2JGWHpBTkJna3Foa2lHOXcwQkFRc0ZBREEwTVRJd01BWURWUVFEDQpFeWxOYVdOeWIzTnZablFnUVhwMWNtVWdSbVZrWlhKaGRHVmtJRk5UVHlCRFpYSjBhV1pwWTJGMFpUQWVGdzB5TkRBMU1EWXhNalV6DQpNRGhhRncweU56QTFNRFl4TWpVek1EaGFNRFF4TWpBd0JnTlZCQU1US1UxcFkzSnZjMjltZENCQmVuVnlaU0JHWldSbGNtRjBaV1FnDQpVMU5QSUVObGNuUnBabWxqWVhSbE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBNHViVFpGdUVHcmhJDQp0S3pPS1FQMkVQeG1VMERKemhkU2REOEppUjMrN3o2RURuWmdGN3lieTR1N2dtZWh5bnNGaHNVN1JncXZMYnQ4dHlQclJ1TDFBNm9HDQpheVc3Y2ZKUzllcFdtL21xcmJpOTV4R2lHZWhRZVdDQ3VDQTVrdlFWZURmOWgybjZTUWZpbGQ1VldIR3VKUzExaGZacXd3OFF6YXg3DQpIWXcxU2EzNVVsclFMT0xMaG1RL2MyUVJtM0wzNzRxN2pyN2h0QWRvQXlpV2o4OWVJYlZjRVFHcDFIUXVpRUh1c3ljY0x0UTlxWldHDQpzTk9Jc3htcndqRTVrbXd6T1RYYVNmTjFmNXJDSGFkVWt3OHlNeVUxTjZVYTJydE96d0NDcDBMRTJYWXU3UXZOVXFtMmltdHZURDMwDQpqbkVvVnRZcnRWU0NodXNFd0hMSCttWUJHUUlEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQ2dQZDhRTm0wdDZOS2pZNk9mDQpuTjhLaTl2OWVCRVNaZGxYU3Y0SVZPOWlNMVJDNkJ3dnM1NTRIK3FuL0JpQzNUYWxpNGdzTFdSN0p2K0Z5NnhzblBlTStRN1FCQUNoDQpzYzFiY2dvSVJUSHJlVlhRcUx0dkhvczZyaEZlSU00ejdSTDBzNjlHNFFlYXNKRGZtakl2b2Z5d2FyT0FCV3kraE1RSlpOL2o1TjJNDQpmRURzMjBVcGRuYVlWMWNEZHZHb1k4TUdtL0xMV2VtYXpEZjQ3OHhnMWVOS0plRDRkNGt1dVBidEZhRlZLTkpVM3kraDJyeDI0TVVlDQovbG5peGxqWlB4Q1o0OW4yTUhkMHhrbnQ1ckU4Yis2QmcxSUxtNVU4WHJaNlFXVlNmdEF3QnhWTm41OTk4RWJJZjF3LzhtdEtKa04vDQoyUzRwT3lQMHErRHpvWGo5K2JIcA0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K
            redirectURI: https://argocd.local/argocd/api/dex/callback
            usernameAttr: email
            emailAttr: email
  params:
    server.insecure: true
    server.rootpath: "/argocd"
    # server.basehref: "/argocd"
  rbac:
    policy.csv: |
      p, role:org-admin, applications, *, */*, allow
      p, role:org-admin, clusters, get, *, allow
      p, role:org-admin, repositories, get, *, allow
      p, role:org-admin, repositories, create, *, allow
      p, role:org-admin, repositories, update, *, allow
      p, role:org-admin, repositories, delete, *, allow
      p, role:org-admin, logs, get, *, allow
      p, role:org-admin, exec, create, */*, allow
      g, klf2000org:team-default, role:org-admin
      g, "andrey.parkhomets@gmail.com", role:org-admin
    policy.default: "role:readonly"
    scopes: '[groups, email]'
server:
  logLevel: "debug"
  ingress:
    enabled: true
    ingressClassName: "nginx"
    https: false
    annotations:
      nginx.ingress.kubernetes.io/use-regex: "true"
      # nginx.ingress.kubernetes.io/rewrite-target: /$2
      nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      # nginx.ingress.kubernetes.io/rewrite-target: /$1
    # hostname:  argocd.local
    path: /argocd
    # pathType: ImplementationSpecific
    # extraHosts: 
    #   - name: argocd.local.192.168.105.13.nip.io
    #     path: "/(.*)"
    #   - name: 192.168.105.13.nip.io
    #     path: "/(.*)"
    # extraPaths:
    #   - path: /api/dex/callback
    #     pathType: Prefix
    #     backend:
    #       service:
    #         name: argo-cd-argocd-server
    #         port:
    #           name: http


oidc:
  oauth:
    encryptedClientSecret: AgBYYyccDyY6uQKwfAOqJew/i1DBXFR7Yd2fevBZaKmr464gnSDDF3AH2pgGWFTLvXqmcctSbqlkmLE/Aklx9pVgR4hetsl8DWx8DGlsfy+1g3fXI0/XcMHC/P0zXzLaH5lHYt9bfonAgw8PcRh7gSgZen43p2wbR2JAU6Tm9I+VH9onrK2XusPQVJTRxTlCDPtJeFl4HybFpfQpocppdCYtrRyMNo2ySs5l/abwWTfR4HUgl+Bzy8ei5ycEeoByFSqKWX2EMlZaPOh+gZe/3t7v/vIWwt/3H9hX+KKENxsula+citRzsLvK4e3i0nj7M4OzyaZVrsnX+WSX6uA7dt1qQtg9vGxzienjNfh5/2aO0MwMrVjd6KLRMJphXf45La2xdcWRGAHRH4cnVAevZchkBiSfvBmJMdDXpk1Gqx4lYsxBdVtLN9Dj6wJunuSGm9G/64US4SHHSrMh3lj29uAIeQ3JsJ3BgJDtd8lD8Qxss0SylBd4JJkRgYnhWQLqNtgCmSXQD/3uyXtTGGZUUvhvaa9oIiP1mg1eyD8odbxFiz12P1zfA7kkFZRWb9/mf/Fb71iyGP8ktlqsRYy2uw8UMxb02S+FihMk1mj/O5mxd/fOKM0kOY05Ipt5ZxbGdixAqTLLPRA90dQTTA2D7jB+JYTaymwCx1B1iqJSiL8Q3dYY969QAT1xkrcpmCL2qq4RqZ+RVp2YY6+LrVWXhoLnH3XIjDo1IIlKxIP2QushRfYATK9pJvAn
    encryptedClientId: AgAmcCT+sh71CFrH7MIlyCAsp4RkVrWRijRGF2ABIKeOPOUBxYjyUPKISdclqB8N7wgLjaL8JFUPcKcpMUVCRvFyUMvGrtBT7lbsycvQ9sfPzLeyCao5Pge62nnv0H2XXnfuEaQxx2U5qlBm12tDOJjeBDbbb2chflmhDNdfmvFviIsMcxmrGCT2vUh3+xOwTQbptdfnB3oM9yhrU4nqv6ft2JA0pji25l1prQ59/rGOUjzNZM7ifo6RR4zIcxMYmOXtUcAE+53NwQ3bHCD0Yv94WxDvJ9KshUNMNhMfoJUtB8BBamEVFChMoYMU8PmAeLJPwvozNtx8i3qmMSExLlDcVkO3DQDqfSfaPvclJTAc0LFAIrVK/AecMOlZGqP8Wap8Bm9IPCntZ5H2oDtrnytNRDlyCm96Gscm0wSIxPcY+aNhRmpJ2mSCWKT1NexSPolE4qih1ykvYVt1f2oVldcdMJ+v+YT1eJA4p5QpDgjjqBUvrFPW7TJxRkKt208X/KZ62/pSclX31/vKLlndHd7YZRut1MesYwOnIeVTQrYZ2MA0BfJvo/TpaMuWOs0HHZZx4ld+T12+/twOWblzlbfPAzQCU7OgYNdm1sVKvHu4vhnRsF3qEcdibWWUZ8bgdCjwTzmJTIJ9xqi19svU0VC/fEehBJdY10f+a98jddxr6mFx3j8m6pKgGTt5Pl/AXok89woQKc+553riCb0Srp6EGk9w4w==